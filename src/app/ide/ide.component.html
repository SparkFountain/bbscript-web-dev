<div class="modal" [ngClass]="{ 'is-active': settingsOpen }">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">{{ 'IDE.SETTINGS.TITLE' | translate }}</p>
      <button class="delete" aria-label="close" (click)="toggleSettings()"></button>
    </header>
    <section class="modal-card-body">
      <!-- Content ... -->
      Here comes the content
    </section>
    <footer class="modal-card-foot">
      <button class="button is-success">Save changes</button>
      <button class="button" (click)="toggleSettings()">Cancel</button>
    </footer>
  </div>
</div>

<div class="ide-buttons is-primary">
  <!-- IDE BUTTONS -->
  <p class="field">
    <a class="button" (click)="play()" *ngIf="buttons.indexOf('play') > -1 && !playing">
      <span class="icon is-small">
        <i class="fa fa-play-circle"></i>
      </span>
    </a>
    <a class="button" (click)="stop()" *ngIf="buttons.indexOf('play') > -1 && playing">
      <span class="icon is-small">
        <i class="fa fa-stop-circle-o"></i>
      </span>
    </a>
    <a class="button" (click)="debug()" *ngIf="buttons.indexOf('debug') > 1">
      <span class="icon is-small">
        <i class="fa fa-bug"></i>
      </span>
    </a>
    <a class="button" (click)="undo()" *ngIf="buttons.indexOf('undo') > 1">
      <span class="icon is-small">
        <i class="fa fa-undo"></i>
      </span>
    </a>
    <a class="button" (click)="redo()" *ngIf="buttons.indexOf('redo') > 1">
      <span class="icon is-small">
        <i class="fa fa-repeat"></i>
      </span>
    </a>
    <a class="button" (click)="guide()" *ngIf="buttons.indexOf('guide') > 1">
      <span class="icon is-small">
        <i class="fa fa-medkit"></i>
      </span>
    </a>
    <a class="button" (click)="codeCleanUp()" *ngIf="buttons.indexOf('codeCleanUp') > 1">
      <span class="icon is-small">
        <i class="fa fa-magic"></i>
      </span>
    </a>
    <a class="button" (click)="toggleSettings()" *ngIf="buttons.indexOf('toggleSettings') > 1">
      <span class="icon is-small">
        <i class="fa fa-cog"></i>
      </span>
    </a>
  </p>
</div>

<!-- CODE -->
<div #codingArea class="box coding-area" [ngClass]="colorScheme" *ngIf="!playing">
  <!-- CARET -->
  <div class="caret" [ngStyle]="{ top: caret.top + 'px', left: caret.left + 'px' }">|</div>

  <div class="code-line" *ngFor="let tokens of code.formatted; let i = index">
    <div class="line-meta">
      <div class="line-number">{{ i + 1 }}</div>
      <div class="line-highlight">
        <i class="fa fa-video-camera" aria-hidden="true" *ngIf="false"></i>
      </div>
      <div class="line-toggle pointer">
        <span *ngIf="false">⏵</span>
        <span *ngIf="false">⏷</span>
      </div>
    </div>
    <div class="line-content">
      <div class="token" *ngFor="let token of tokens" [innerHTML]="token"></div>
    </div>
  </div>
</div>

<!-- BLITZ BASIC SCRIPT COMPONENT -->
<blitz-basic-script-game
  [icon]=""
  [code]="code.plain"
  [debugMode]="false"
  [title]="'title'"
  *ngIf="playing"
></blitz-basic-script-game>
